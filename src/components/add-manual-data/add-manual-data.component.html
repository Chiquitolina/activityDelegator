<form [formGroup]="addManualTaskForm" (ngSubmit)="onSubmit()">
  <div formArrayName="tasks">
    <div class="card d-flex flex-wrap justify-content-center align-items-center" *ngFor="let task of tasks.controls; let i = index" [formGroupName]="i">
      <p-fieldset class="">
        <ng-template pTemplate="header">
          <span class="w-100" style="font-size: 14px;">{{task.value.name}}</span>
        </ng-template>
        <div class="w-100 d-flex justify-content-center flex-wrap flex-column">
        <p-multiSelect
          formControlName="elegidos"
          name="elegidos-{{ i }}"
          [options]="dataServ.participants"
          optionLabel="name"
          placeholder="Seleccionar participante"
          required
          [style]="{ 'width': '15rem' }"
        ></p-multiSelect>
        <div *ngIf="task.get('elegidos')?.invalid && task.get('elegidos')?.touched" class="error-message">
          Este campo es requerido.
        </div>
      </div>
      </p-fieldset>
    </div>
  </div>

  <div class="d-flex justify-content-center">
  <p-button
    class="mt-2"
    [style]="{ 'margin-left': '0.5rem', 'border-radius': '0.5rem', width: '15rem' }"
    [raised]="true"
    severity="success"
    label="Confirmar"
    type="submit"
  ></p-button>
</div>
</form>